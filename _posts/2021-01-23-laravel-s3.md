---
layout: post
title:  "Utilizzare AWS S3 con Laravel"
author: mattia
categories: [ Laravel, S3, AWS]
image: assets/images/s3_logo.png
rating: 4
---

In questo articolo andremo ad utilizzare Amazon S3 per lo storage in cloud degli asset, fornendo un accesso granulare. Amazon S3 è un servizio di 
cloud computing che offre storage di oggetti scalabile, senza limiti di quantità e con una durevolezza del dato garantita al 99,999999999%.
Questo servizio cloud riesce quindi a semplificare la gestione dello storage di grandi quantità di dati in modo scalabile e ad un costo 
ridotto rispetto a qualsiasi altra soluzione di storage tradizionale, peraltro, a costi parecchio contenuti, dato che i prezzi si aggirano intorno ai 7 centesimi per GB di storage.

## Preparazione del progetto

In un qualunque ambiente Laravel, creiamo una view con un form che permetta di caricare una immagine, in questo caso sto utilizzando materalize ccs come framework per la grafica.

```
<form class = "col s12" method="POST" action="{{ route('image.store') }}" enctype="multipart/form-data">
 @csrf
   <div class = "row">
       <label>Materialize File Input</label>
           <div class = "file-field input-field">
                  <div class = "btn">
                     <span>Browse</span>
                     <input type = "file" name="image" id="image"/>
                  </div>
                  <div class = "file-path-wrapper">
                     <input class = "file-path validate" type = "text"
                        placeholder = "Upload file" />
                  </div>
           </div>
     <input type="submit" value="Submit">
    </div>
 </form>
 ```
 
 Creiamo un Controller e nominiamolo ImageController:
 
 ```
 <?php

namespace App\Http\Controllers;

use Illuminate\Http\Request;

class ImageController extends Controller
{
    public function store(Request $request)
    {
        $path = $request->file("image")->store("images");
        return $path;
    }
}
```

Se tutto funziona correttamente, laravel dovrebbe restituirci il path relativo della immagine che abbiamo caricato. Possiamo verificare che la foto ora si trova nella cartella storage/images. Siamo riusciti a caricare una foto in locale, ma il nostro obiettivo era farlo su Amazon S3, vediamo ora come fare.
